@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .scrollbar-hidden::-webkit-scrollbar {
    @apply hidden;
  }

  .container {
    @apply w-full max-w-[90%] xs:px-6 md:px-12 lg:px-24;
  }

  /* Chat window responsive fixes */
  .chat-message {
    @apply break-words;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
}

@layer base {
  html,
  body {
    /* Prevent any horizontal scroll from shadows, focus rings, or transforms */
    overflow-x: hidden;
    overflow-x: clip; /* modern fallback to fully clip paint outside */
    max-width: 100vw;
    width: 100%;
    overscroll-behavior-x: none; /* disable horizontal overscroll */
    touch-action: pan-y; /* only allow vertical panning */
  }

  #root {
    overflow-x: hidden;
    overflow-x: clip;
    max-width: 100vw;
    width: 100%;
  }

  body {
    @apply text-dark;
    background-color: #ffffec;
  }

  /* Fix for react-toastify passive event listener issue */
  .Toastify__toast-container {
    touch-action: manipulation;
  }

  .Toastify__toast {
    touch-action: manipulation;
  }

  /* Mobile safe area padding - minimal padding for APK */
  .mobile-app {
    padding-top: env(safe-area-inset-top, 0px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
  }

  /* APK BUILD - Prevent horizontal scrolling */
  * {
    box-sizing: border-box;
  }

  /* Force text wrapping for all text elements */
  p,
  span,
  div,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
  }

  /* Ensure all containers respect viewport width */
  .container,
  .max-w-7xl,
  .max-w-6xl,
  .max-w-5xl,
  .max-w-4xl,
  .max-w-3xl,
  .max-w-2xl,
  .max-w-xl,
  .max-w-lg,
  .max-w-md,
  .max-w-sm,
  .max-w-xs {
    max-width: 100vw;
    width: 100%;
    overflow-x: hidden;
    overflow-x: clip;
  }

  /* APK BUILD - Aggressive text wrapping */
  .break-words,
  .overflow-wrap-anywhere {
    word-wrap: break-word !important;
    overflow-wrap: anywhere !important;
    word-break: break-word !important;
    hyphens: auto !important;
  }

  /* Force all text to wrap properly - prevent mid-word breaking */
  * {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: normal;
    hyphens: auto;
  }

  /* Prevent awkward text breaking on mobile */
  @media (max-width: 768px) {
    * {
      word-break: keep-all;
      overflow-wrap: break-word;
    }

    /* Ensure proper text wrapping for specific elements */
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    span {
      word-break: normal;
      overflow-wrap: break-word;
      hyphens: auto;
    }
  }

  /* Removed additional top padding for mobile devices */
  /* @media (max-width: 768px) {
    .mobile-app {
      padding-top: calc(env(safe-area-inset-top, 0px) + 20px);
    }
  } */
}
